@inherits Umbraco.Web.Mvc.UmbracoTemplatePage<ContentModels.Home>
@using ContentModels = Umbraco.Web.PublishedContentModels;
@{
    Layout = "_Master.cshtml";
}

<section class="d-flex align-items-center frontpage_hero" style="background-image: url(@Model.Content.Heroimage.Url)">
    <div class="container">
        <div class="frontpage_hero_txt">
            <h1 class="font_size_mega text-uppercase">@Model.Content.Headline</h1>
            <p class="p_lead">"@Model.Content.Subline"</p>
        </div>
        <div class="row">
            <div class="col-sm-10 offset-sm-1 frontpage_hero_facts">
                <div class="row">
                    <div class="col-md-4 margin-25-bottom">
                        <i data-feather="home"></i>
                        <p>100 VÆRESTEDER</p>
                    </div>
                    <div class="col-md-4 margin-25-bottom">
                        <i data-feather="calendar"></i>
                        <p>50 EVENTS</p>
                    </div>
                    <div class="col-md-4">
                        <i data-feather="heart"></i>
                        <p>2300 FRIVILLIGE</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="container module_hero_section text-center rellax " data-rellax-speed="1.5" style="background-image:url(@Model.Content.Picture.Url)">

    <div class="row">
        <div class="module_hero_card col-lg-8 rellax" data-rellax-speed="1.5">
            <h1 class="underline text-uppercase">@Model.Content.Headline</h1>
            @Model.Content.BodyText
        </div>
    </div>
</section>

@foreach (var item in Model.Content.PickEvent)
{
    SingleEvent singleEvents = (SingleEvent)item;




    <section class="container module_countdown d-flex align-items-center" style="background-image: url(@singleEvents.Picture.Url)">
        <div class="container">
            <div class="row">
                <div id="myModal" class="modal">
                    <div class="modal-content">
                        <span class="close">&times;</span>
                        <iframe width="100%" height="100%" src="https://www.youtube.com/embed/@Model.Content.YoutubeVideoID" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-1 offset-lg-2 d-flex align-items-center">
                    <button id="moduel_countdown_btn" class="btn_play">
                        <img src="~/Assets/images/icons/play_icon.svg" alt="">
                    </button>
                </div>
                <div class="col-lg-5 offset-lg-3">
                    <div class="module_countdown_card  d-flex flex-column align-items-center">
                        <h2 class="h1 underline text-uppercase">
                            IDVI EVENTS
                        </h2>
                        <div class="module_countdown_coundowntimer">
                            <div class="d-flex module_countdown_timer_text">
                                <p>Dage</p>
                                <p>Timer</p>
                                <p>Minutter</p>
                                <p>Sekunder</p>
                            </div>
                            <div id="countdown" class="d-flex justify-content-center"></div>
                        </div>
                        <div class="module_countdown_eventinfo d-flex">
                            <div class="module_countdown_date">
                                <p>@singleEvents.Date.Day</p>
                                <p>
                                    @{var monthName = "";

                                        switch (@singleEvents.Date.Month)
                                        {
                                            case 1:
                                                monthName = "Januar";
                                                break;
                                            case 2:
                                                monthName = "Februar";
                                                break;
                                            case 3:
                                                monthName = "Marts";
                                                break;
                                            case 4:
                                                monthName = "April";
                                                break;
                                            case 5:
                                                monthName = "Maj";
                                                break;
                                            case 6:
                                                monthName = "Juni";
                                                break;
                                            case 7:
                                                monthName = "Juli";
                                                break;
                                            case 8:
                                                monthName = "August";
                                                break;
                                            case 9:
                                                monthName = "September";
                                                break;
                                            case 10:
                                                monthName = "Oktober";
                                                break;
                                            case 11:
                                                monthName = "November";
                                                break;
                                            case 12:
                                                monthName = "December";
                                                break;
                                        }

                                        @monthName
                                    }
                                </p>
                            </div>
                            <div class="module_countdown_eventtitle">
                                <p>  @singleEvents.Headline</p>
                                <div class="d-flex">
                                    <div class="d-flex module_countdown_time">
                                        <i data-feather="clock"></i>
                                        <p>@singleEvents.Date.Hour:@singleEvents.Date.Minute</p>
                                    </div>
                                    <div class="d-flex module_countdown_place">
                                        <i data-feather="map-pin"></i>
                                        <p>@singleEvents.Place</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <button onclick="location.href='@singleEvents.Url'" class="btn btn_fullwidth">
                            Læs mere
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <script>
    // Set the date we're counting down to
        var countDownDate = new Date("@singleEvents.Date.ToString("MMMM dd, yyyy 12:00:00")").getTime();



    </script>
}

<section class="blivfrivillig d-flex align-items-center" style=" margin: 250px 0px; background-image: url(/Assets/images/people.png)">
    <div class="container">
        <div class="row">
            <div class="col-md-5 offset-md-1 col-10 offset-1 d-flex align-items-center justify-content-center blivfrivillig_box">
                <div class="blivfrivillig_box_content">
                    <h1 class="underline">Bliv frivillig</h1>
                    <p class="p_lead">Søg og bliv frivillig på en af vores mange væresteder</p>
                    <button class="btn small_btn" onclick="toggle()">
                        Bliv frivillig
                    </button>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="container module_news_card_overview">
    <div class="row">
        <h2 class="underline h1 text-uppercase">@Model.Content.Newsheadline</h2>
    </div>
    <div class="row">

        @foreach (var item in Model.Content.NewsPicker)
        {
            SingleNewsItem singleNews = (SingleNewsItem)item;
            <div class="col-lg-4">
                <div class="module_news_card">
                    <div class="thumbnail">
                        <img src="@singleNews.Picture.Url" alt="">
                    </div>
                    <div class="news_card_text">
                        <div class="d-flex align-items-center">
                            <i data-feather="clock"></i>
                            <p>
                                @singleNews.Date.Day.
                                @{var monthName = "";

                                    switch (@singleNews.Date.Month)
                                    {
                                        case 1:
                                            monthName = "Januar";
                                            break;
                                        case 2:
                                            monthName = "Februar";
                                            break;
                                        case 3:
                                            monthName = "Marts";
                                            break;
                                        case 4:
                                            monthName = "April";
                                            break;
                                        case 5:
                                            monthName = "Maj";
                                            break;
                                        case 6:
                                            monthName = "Juni";
                                            break;
                                        case 7:
                                            monthName = "Juli";
                                            break;
                                        case 8:
                                            monthName = "August";
                                            break;
                                        case 9:
                                            monthName = "September";
                                            break;
                                        case 10:
                                            monthName = "Oktober";
                                            break;
                                        case 11:
                                            monthName = "November";
                                            break;
                                        case 12:
                                            monthName = "December";
                                            break;
                                    }

                                    @(" " + monthName + " ")
                                    @singleNews.Date.Year
                                }
                            </p>
                        </div>
                        <p class="news_heading">@singleNews.Headline</p>
                    </div>
                    <div class="news_card_cta d-flex align-items-center  justify-content-between">
                        <div class="news_likes d-flex">
                            <i data-feather="heart"></i>
                            <p>56</p>
                        </div>
                        <div class="line">
                        </div>
                        <div class="cta">
                            <a href="@singleNews.Url">Læs Artiklen </a>
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>
</section>


<script>
    function on() {
        document.getElementById("overlay").style.display = "block";
    }
    function off() {
        document.getElementById("overlay").style.display = "none";
    }
</script>

<script>
    //choosing options on step 3 (checkboxes)
    $("#option-one").click(function (e) {
        if ($('#eventscheck').prop('checked') == true) {
            $('#eventscheck').attr('checked', false);
            $("#option-one").removeClass("yellowed");
        } else {
            $('#eventscheck').attr('checked', true);
            $("#option-one").addClass("yellowed");
        }
    });

    $("#option-two").click(function (e) {
        if ($('#genbrugscheck').prop('checked') == true) {
            $('#genbrugscheck').attr('checked', false);
            $("#option-two").removeClass("yellowed");
        } else {
            $('#genbrugscheck').attr('checked', true);
            $("#option-two").addClass("yellowed");
        }
    });

    $("#option-three").click(function (e) {
        if ($('#sportscheck').prop('checked') == true) {
            $('#sportscheck').attr('checked', false);
            $("#option-three").removeClass("yellowed");
        } else {
            $('#sportscheck').attr('checked', true);
            $("#option-three").addClass("yellowed");
        }
    });
</script>


<script>
    if ($('#overlay').prop('block') == true) {
        $('body').click(function () { $('#overlay').hide() });
    }
</script>

<script>
    var current_fs, next_fs, previous_fs; //fieldsets

    $(".next").click(function () {

        current_fs = $(this).parent();
        next_fs = $(this).parent().next();

        //activate next step on progressbar using the index of next_fs
        $("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active");

        //show the next fieldset
        next_fs.show();
        //hide the current fieldset with style
        current_fs.animate({ opacity: 0 }, {
            step: function (now, mx) {
                scale = 1 - (1 - now) * 0.2;
                left = (now * 50) + "%";
                opacity = 1 - now;
                current_fs.css({
                    'transform': 'scale(' + scale + ')',
                    'position': 'absolute'
                });
                next_fs.css({ 'left': left, 'opacity': opacity });
            },
            duration: 500,
            complete: function () {
                current_fs.hide();
            },
        });
    });

    $(".previous").click(function () {

        current_fs = $(this).parent();
        previous_fs = $(this).parent().prev();

        //de-activate current step on progressbar
        $("#progressbar li").eq($("fieldset").index(current_fs)).removeClass("active");

        //show the previous fieldset
        previous_fs.show();
        //hide the current fieldset with style
        current_fs.animate({ opacity: 0 }, {
            step: function (now, mx) {
                scale = 0.8 + (1 - now) * 0.2;
                left = ((1 - now) * 50) + "%";
                opacity = 1 - now;
                current_fs.css({ 'left': left });
                previous_fs.css({ 'transform': 'scale(' + scale + ')', 'opacity': opacity });
            },
            duration: 500,
            complete: function () {
                current_fs.hide();
            },
        });
    });

    $(".submit").click(function () {
        return false;
    })
</script>

<script>
    var on = false;

    function toggle() {
        if (on == false) {
            document.getElementById("overlay").style.display = "block";
            on = true;
        }
        else {
            document.getElementById("overlay").style.display = "none";
            on = false;
        }
    }


</script>


<script>




    // Update the count down every 1 second
    var x = setInterval(function () {

        // Get todays date and time
        var now = new Date().getTime();

        // Find the distance between now an the count down date
        var distance = countDownDate - now;



        // Time calculations for days, hours, minutes and seconds
        var days = Math.floor(distance / (1000 * 60 * 60 * 24));
        var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        var seconds = Math.floor((distance % (1000 * 60)) / 1000);

        function makeMeTwoDigits(n) {
            return (n < 10 ? "0" : "") + n;
        }

        // Output the result in an element with id="demo"
        document.getElementById("countdown").innerHTML = "<p class='h1'>" + makeMeTwoDigits(days) + " </p> " + "<p class='h1'>" + makeMeTwoDigits(hours) + "</p>" + "<p class='h1'>" +
            makeMeTwoDigits(minutes) + "</p>" + "<p class='h1'>" + makeMeTwoDigits(seconds) + "</p> ";

        // If the count down is over, write some text
        if (distance < 0) {
            clearInterval(x);
            document.getElementById("countdown").innerHTML = "EXPIRED";
        }
    }, 1000);
</script>




